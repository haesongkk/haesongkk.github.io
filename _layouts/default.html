<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>{{ page.title }} - {{ site.title }}</title>
  <style>
    body { margin: 0; font-family: sans-serif; }
    .layout { display: grid; grid-template-columns: 240px 1fr; min-height: 100vh; }
    aside.nav { background: #f9f9f9; border-right: 1px solid #ddd; padding: 16px; }
    aside.nav h3 { margin-top: 0; font-size: 14px; color: #555; }
    aside.nav ul { list-style: none; padding: 0; margin: 0 0 16px; }
    aside.nav li { margin: 6px 0; }
    aside.nav a { text-decoration: none; color: #333; display: block; padding: 4px 6px; border-radius: 4px; }
    aside.nav a.active, aside.nav a:hover { background: #e9eefc; }
    main.content { padding: 24px; }
  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/tokyo-night-dark.css">
</head>
<body>
<div class="layout">
  <aside class="nav">
    {% for coll in site.collections %}
      {% unless coll.label == "posts" or coll.label == "drafts" %}
        <h3>{{ coll.label | capitalize }}</h3>
        <ul>
          {% assign docs = coll.docs | sort: "path" %}
          {% assign current_section = "" %}
          {% for d in docs %}
            {% assign rel = d.path | remove_first: "_" | remove_first: coll.label | prepend: "" %}
            {% assign section = rel | split: "/" | first %}
            {% if section != current_section %}
              {% if current_section != "" %}</ul><ul>{% endif %}
              <li><strong>{{ section }}</strong></li>
              {% assign current_section = section %}
            {% endif %}
            <li>
              <a href="{{ d.url | relative_url }}">
                {{ d.title | default: d.name | split: "." | first }}
              </a>
            </li>
          {% endfor %}
        </ul>
      {% endunless %}
    {% endfor %}
  </aside>
  <main class="content">
    {{ content }}
  </main>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
</body>
</html>
